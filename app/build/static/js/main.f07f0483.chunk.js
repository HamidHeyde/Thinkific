(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{34:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(27),a=n.n(r),c=(n(34),n(12)),i=n(4),s=n(1),u=Object(o.createContext)(),d=function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)(""),d=Object(i.a)(c,2),l=d[0],j=d[1];return Object(s.jsx)(u.Provider,{value:{loggedin:r,setLoggedin:a,token:l,setToken:j},children:e.children})},l=n(10),j=n(2),f=n(28),h=["children"],b=function(e){var t=e.children,n=(Object(f.a)(e,h),Object(o.useContext)(u).loggedin);return Object(s.jsx)(s.Fragment,{children:n?t:Object(s.jsx)(j.a,{to:"/"})})},p=n(13),O=n(11),g=n.n(O),m=function(){var e=Object(o.useContext)(u),t=e.setLoggedin,n=e.setToken,r=Object(j.g)(),a=Object(o.useState)(!0),c=Object(i.a)(a,2),d=c[0],f=c[1],h=Object(o.useState)(!1),b=Object(i.a)(h,2),O=b[0],m=b[1],x=Object(o.useState)("No Error"),v=Object(i.a)(x,2),w=v[0],C=v[1],S=Object(o.useState)({email:"",password:""}),k=Object(i.a)(S,2),y=k[0],N=k[1];Object(o.useEffect)((function(){f(!0);var e=window.localStorage.getItem("token");if(e){var o=JSON.parse(e);t(!0),n(o),r.push("/dashboard")}f(!1)}),[]);var R=function(e){return function(t){N(Object(l.a)(Object(l.a)({},y),{},Object(p.a)({},e,t.target.value)))}},q=function(){return!(!L()||!P())&&(N({email:y.email.trim(),password:y.password.trim()}),!0)},P=function(){return y.password.length>0||(C("PasswordNotValid"),!1)},L=function(){return y.email.length>0&&y.email.indexOf("@")>-1&&y.email.split("@")[1].indexOf(".")>-1||(C("Email is not valid!"),!1)},A=function(e){window.localStorage.setItem("token",JSON.stringify(e))};return d?"....loading":Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:w}),Object(s.jsx)("input",{type:"email",placeholder:"email",onChange:R("email"),value:y.email}),Object(s.jsx)("input",{type:"text",placeholder:"Password",onChange:R("password"),value:y.password}),Object(s.jsx)("button",{onClick:function(){return function(){if(O)C("Another Request in Progress! wait for that one to finish!");else if(q()){m(!0);var e=window.location.origin;g()({method:"post",url:e+"/v1/loginUser",data:y}).then((function(e){N({email:"",password:""}),C("success Congrats! Logged in Successfully"),m(!1),t(!0);var o=e.data.message;n(o),A(o),r.push("/dashboard")})).catch((function(e){m(!1),"undefined"==typeof e.response?C("error => Request timeout!"):C("error =>  ".concat(e.response.data.message))}))}}()},children:"Login"}),Object(s.jsx)("button",{onClick:function(){r.push("/register")},children:"Goto Registration"})]})},x=[{protected:!1,exact:!0,path:"/",component:m},{protected:!1,exact:!0,path:"/login",component:m},{protected:!1,exact:!0,path:"/Register",component:function(){var e=Object(j.g)(),t=Object(o.useContext)(u),n=t.setLoggedin,r=t.setToken,a=Object(o.useState)(!0),c=Object(i.a)(a,2),d=c[0],f=c[1],h=Object(o.useState)(!1),b=Object(i.a)(h,2),O=b[0],m=b[1],x=Object(o.useState)("No Error"),v=Object(i.a)(x,2),w=v[0],C=v[1],S=Object(o.useState)({email:"",password:""}),k=Object(i.a)(S,2),y=k[0],N=k[1];Object(o.useEffect)((function(){f(!0);var t=window.localStorage.getItem("token");if(t){var o=JSON.parse(t);n(!0),r(o),e.push("/dashboard")}f(!1)}),[]);var R=function(e){return function(t){N(Object(l.a)(Object(l.a)({},y),{},Object(p.a)({},e,t.target.value)))}},q=function(){return!(!L()||!P())&&(N({email:y.email.trim(),password:y.password.trim()}),!0)},P=function(){return y.password.length>0||(C("PasswordNotValid"),!1)},L=function(){return y.email.length>0&&y.email.indexOf("@")>-1&&y.email.split("@")[1].indexOf(".")>-1||(C("Email is not valid!"),!1)};return d?"....loading....":Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:w}),Object(s.jsx)("input",{type:"email",placeholder:"email",onChange:R("email"),value:y.email}),Object(s.jsx)("input",{type:"text",placeholder:"Password",onChange:R("password"),value:y.password}),Object(s.jsx)("button",{onClick:function(){return function(){if(O)C("Another Request in Progress! wait for that one to finish!");else if(q()){m(!0);var e=window.location.origin;g()({method:"post",url:e+"/v1/registerUser",data:y}).then((function(e){m(!1),N({email:"",password:""}),C("success Congrats! User Registered successfully")})).catch((function(e){m(!1),"undefined"==typeof e.response?C("error => Request timeout!"):C("error =>  ".concat(e.response.data.message))}))}}()},children:"Register"}),Object(s.jsx)("button",{onClick:function(){e.push("/")},children:"Goto Login"})]})}},{protected:!0,exact:!0,path:"/Dashboard",component:function(){var e=Object(o.useContext)(u),t=e.setLoggedin,n=e.setToken,r=e.token,a=Object(o.useState)(!0),c=Object(i.a)(a,2),d=c[0],l=c[1],j=Object(o.useState)(!1),f=Object(i.a)(j,2),h=f[0],b=f[1],p=Object(o.useState)("No Message"),O=Object(i.a)(p,2),m=O[0],x=O[1],v=Object(o.useState)("300"),w=Object(i.a)(v,2),C=w[0],S=w[1];Object(o.useEffect)((function(){l(!0);var e=window.localStorage.getItem("token");if(e){var o=JSON.parse(e);t(!0),n(o)}l(!1)}),[]);var k=function(){return C.length>0&&!isNaN(C)||(x("Counter value is not a Number"),!1)},y=function(){window.localStorage.removeItem("token")};return d?"...Loading...":Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:m}),Object(s.jsx)("button",{onClick:function(){return function(){if(h)x("Another Request in Progress! wait for that one to finish!");else{b(!0);var e=window.location.origin;g()({method:"get",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){x("Current Counter Value is => ".concat(e.data.message)),b(!1)})).catch((function(e){b(!1),"undefined"==typeof e.response?x("error => Request timeout!"):x("error =>  ".concat(e.response.data.message))}))}}()},children:"Current Counter"}),Object(s.jsx)("button",{onClick:function(){return function(){if(h)x("Another Request in Progress! wait for that one to finish!");else{b(!0);var e=window.location.origin;g()({method:"get",url:e+"/v1/next",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){x("Next Counter Value is => ".concat(e.data.message)),b(!1)})).catch((function(e){b(!1),"undefined"==typeof e.response?x("error => Request timeout!"):x("error =>  ".concat(e.response.data.message))}))}}()},children:"Next Counter"}),Object(s.jsx)("input",{type:"text",placeholder:"counter",onChange:function(e){return function(e){S(e.target.value)}(e)},value:C}),Object(s.jsx)("button",{onClick:function(){return function(){if(h)x("Another Request in Progress! wait for that one to finish!");else if(k()){b(!0);var e=window.location.origin;g()({method:"put",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(r)},data:{current:C}}).then((function(e){x("Current Counter Value is => ".concat(C)),b(!1)})).catch((function(e){b(!1),"undefined"==typeof e.response?x("error => Request timeout!"):x("error =>  ".concat(e.response.data.message))}))}}()},children:"Update Counter Value"}),Object(s.jsx)("button",{onClick:function(){return y(),t(!1),void n("")},children:"Logout"})]})}},{protected:!1,exact:!1,path:"*",component:function(){return Object(s.jsx)(j.a,{to:"/"})}}],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(s.jsx)(j.d,{children:e.map((function(e,t){var n=e.component,r=e.protected?b:o.Fragment;return Object(s.jsx)(j.b,{exact:e.exact,path:e.path,render:function(e){return Object(s.jsx)(r,{children:Object(s.jsx)(n,Object(l.a)({},e))})}},t)}))})};n(62);var w=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(d,{children:Object(s.jsx)(c.a,{children:v(x)})})})};a.a.render(Object(s.jsx)(w,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.f07f0483.chunk.js.map