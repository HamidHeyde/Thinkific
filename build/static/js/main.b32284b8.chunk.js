(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{17:function(e,t,s){},37:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(28),r=s.n(n),o=(s(37),s(8)),c=s(3),i=s(0),d=Object(a.createContext)(),l=function(e){var t=Object(a.useState)(!1),s=Object(c.a)(t,2),n=s[0],r=s[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),u=l[0],m=l[1];return Object(i.jsx)(d.Provider,{value:{loggedin:n,setLoggedin:r,token:u,setToken:m},children:e.children})},u=s(12),m=s(2),j=s(29),p=["children"],g=function(e){var t=e.children,s=(Object(j.a)(e,p),Object(a.useContext)(d).loggedin);return Object(i.jsx)(i.Fragment,{children:s?t:Object(i.jsx)(m.a,{to:"/"})})},b=s(13),h=s(31),f=s.n(h),O=s(10),v=s.n(O),x=(s(17),s.p+"static/media/eye.d964f053.svg"),w=s.p+"static/media/eyeSlash.8f392a5c.svg",y=s(32),N=s.n(y),C=function(){var e=Object(a.useContext)(d),t=e.setLoggedin,s=e.setToken,n=Object(m.g)(),r=Object(a.useState)({type:"noMessage",message:"Login"}),l=Object(c.a)(r,2),j=l[0],p=l[1],g=Object(a.useState)({type:"password",image:w}),h=Object(c.a)(g,2),O=h[0],y=h[1],C=Object(a.useState)(!0),S=Object(c.a)(C,2),k=S[0],T=S[1],R=Object(a.useState)(!1),L=Object(c.a)(R,2),B=L[0],q=L[1],E=Object(a.useState)({email:"",password:""}),I=Object(c.a)(E,2),P=I[0],A=I[1];Object(a.useEffect)((function(){T(!0);var e=window.localStorage.getItem("token");if(e){var a=JSON.parse(e);t(!0),s(a),n.push("/dashboard")}T(!1)}),[]);var G=function(e){return function(t){A(Object(u.a)(Object(u.a)({},P),{},Object(b.a)({},e,t.target.value)))}},M=function(){return!(!J()||!W())&&(A({email:P.email.trim(),password:P.password.trim()}),!0)},W=function(){return P.password.length>0||(p({type:"error",message:"Password Not Valid!"}),!1)},J=function(){return P.email.length>0&&P.email.indexOf("@")>-1&&P.email.split("@")[1].indexOf(".")>-1||(p({type:"error",message:"Email is not valid!"}),!1)},V=function(e){window.localStorage.setItem("token",JSON.stringify(e))},F=function(e){q(!0);var a=window.location.origin;v()({method:"post",url:a+"/v1/google",data:{idToken:e.tokenId}}).then((function(e){p({type:"success",message:"Congrats! Logged in Successfully"}),q(!1),t(!0);var a=e.data.message;s(a),V(a),n.push("/dashboard")})).catch((function(e){q(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))};return k?"....loading":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+j.type,children:j.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"email",placeholder:"Email",onChange:G("email"),value:P.email})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formTextGroup",children:[Object(i.jsx)("input",{className:"formTextbox",type:O.type,placeholder:"Password",onChange:G("password"),value:P.password}),Object(i.jsx)("div",{className:"passwordEye",children:Object(i.jsx)("img",{src:O.image,className:"passwordEyeImage",onClick:function(){y({type:"password"===O.type?"text":"password",image:"password"===O.type?x:w})}})})]})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(B)p({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(M()){q(!0);var e=window.location.origin;v()({method:"post",url:e+"/v1/loginUser",data:P}).then((function(e){A({email:"",password:""}),p({type:"success",message:"Congrats! Logged in Successfully"}),q(!1),t(!0);var a=e.data.message;s(a),V(a),n.push("/dashboard")})).catch((function(e){q(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))}}()},children:"Login"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Do not have an account?",Object(i.jsx)(o.b,{to:"/register",className:"formLink",children:"Register"})]})}),Object(i.jsx)(f.a,{clientId:"785349345581-9ib0fn8e2fit1qo5jirdvg6odhoin1t2.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:F,onFailure:F,cookiePolicy:"single_host_origin",render:function(e){return Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",onClick:e.onClick,children:"Sign in with Google"})})}}),Object(i.jsx)(N.a,{appId:"".concat("1415665972147933"),autoLoad:!1,callback:function(e){q(!0);var a=window.location.origin;v()({method:"post",url:a+"/v1/facebook",data:{userId:e.userID,accessToken:e.accessToken}}).then((function(e){p({type:"success",message:"Congrats! Logged in Successfully"}),q(!1),t(!0);var a=e.data.message;s(a),V(a),n.push("/dashboard")})).catch((function(e){q(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))},render:function(e){return Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",onClick:e.onClick,children:"Sign in with Facebook"})})}})]})]})})},S=[{protected:!1,exact:!0,path:"/",component:C},{protected:!1,exact:!0,path:"/login",component:C},{protected:!1,exact:!0,path:"/Register",component:function(){var e=Object(m.g)(),t=Object(a.useContext)(d),s=t.setLoggedin,n=t.setToken,r=Object(a.useState)({type:"noMessage",message:"Register A User"}),l=Object(c.a)(r,2),j=l[0],p=l[1],g=Object(a.useState)({type:"password",image:w}),h=Object(c.a)(g,2),f=h[0],O=h[1],y=Object(a.useState)(!0),N=Object(c.a)(y,2),C=N[0],S=N[1],k=Object(a.useState)(!1),T=Object(c.a)(k,2),R=T[0],L=T[1],B=Object(a.useState)({email:"",password:""}),q=Object(c.a)(B,2),E=q[0],I=q[1];Object(a.useEffect)((function(){S(!0);var t=window.localStorage.getItem("token");if(t){var a=JSON.parse(t);s(!0),n(a),e.push("/dashboard")}S(!1)}),[]);var P=function(e){return function(t){I(Object(u.a)(Object(u.a)({},E),{},Object(b.a)({},e,t.target.value)))}},A=function(){return!(!M()||!G())&&(I({email:E.email.trim(),password:E.password.trim()}),!0)},G=function(){return E.password.length>0||(p({type:"error",message:"Password Not Valid!"}),!1)},M=function(){return E.email.length>0&&E.email.indexOf("@")>-1&&E.email.split("@")[1].indexOf(".")>-1||(p({type:"error",message:"Email is not valid!"}),!1)};return C?"....loading....":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+j.type,children:j.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"email",placeholder:"Email",onChange:P("email"),value:E.email})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formTextGroup",children:[Object(i.jsx)("input",{className:"formTextbox",type:f.type,placeholder:"Password",onChange:P("password"),value:E.password}),Object(i.jsx)("div",{className:"passwordEye",children:Object(i.jsx)("img",{src:f.image,className:"passwordEyeImage",onClick:function(){O({type:"password"===f.type?"text":"password",image:"password"===f.type?x:w})}})})]})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(R)p({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(A()){L(!0);var e=window.location.origin;v()({method:"post",url:e+"/v1/registerUser",data:E}).then((function(e){L(!1),I({email:"",password:""}),p({type:"success",message:"success Congrats! User Registered successfully"})})).catch((function(e){L(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))}}()},children:"Sign up"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Already have an account?",Object(i.jsx)(o.b,{to:"/",className:"formLink",children:"Sign in"})]})})]})]})})}},{protected:!0,exact:!0,path:"/Dashboard",component:function(){var e=Object(a.useContext)(d),t=e.setLoggedin,s=e.setToken,n=e.token,r=Object(a.useState)({type:"noMessage",message:"Try One of the Buttons Below"}),o=Object(c.a)(r,2),l=o[0],u=o[1],m=Object(a.useState)(!0),j=Object(c.a)(m,2),p=j[0],g=j[1],b=Object(a.useState)(!1),h=Object(c.a)(b,2),f=h[0],O=h[1],x=Object(a.useState)("300"),w=Object(c.a)(x,2),y=w[0],N=w[1];Object(a.useEffect)((function(){g(!0);var e=window.localStorage.getItem("token");if(e){var a=JSON.parse(e);t(!0),s(a)}g(!1)}),[]);var C=function(){return y.length>0&&!isNaN(y)||(u({type:"error",message:"Counter value is not a Number"}),!1)},S=function(){window.localStorage.removeItem("token")};return p?"...Loading...":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+l.type,children:l.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"text",placeholder:"Counter",onChange:function(e){return function(e){N(e.target.value)}(e)},value:y})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(C()){O(!0);var e=window.location.origin;v()({method:"put",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(n)},data:{current:y}}).then((function(e){u({type:"success",message:"Current Counter Value is => ".concat(y)}),O(!1)})).catch((function(e){O(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Update Counter Value"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else{O(!0);var e=window.location.origin;v()({method:"get",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){u({type:"success",message:"Current Counter Value is => ".concat(e.data.message)}),O(!1)})).catch((function(e){O(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Current Counter"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else{O(!0);var e=window.location.origin;v()({method:"get",url:e+"/v1/next",headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){u({type:"success",message:"Next Counter Value is => ".concat(e.data.message)}),O(!1)})).catch((function(e){O(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Next Counter"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",onClick:function(){return S(),t(!1),void s("")},children:"Logout"})})]})]})})}},{protected:!1,exact:!0,path:"/404",component:function(){return Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage noMessage",children:"The Page Does Not Exist"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Return to",Object(i.jsx)(o.b,{to:"/",className:"formLink",children:"Home Page"})]})})]})})}},{protected:!1,exact:!1,path:"*",component:function(){return Object(i.jsx)(m.a,{to:"/"})}}],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(i.jsx)(m.d,{children:e.map((function(e,t){var s=e.component,n=e.protected?g:a.Fragment;return Object(i.jsx)(m.b,{exact:e.exact,path:e.path,render:function(e){return Object(i.jsx)(n,{children:Object(i.jsx)(s,Object(u.a)({},e))})}},t)}))})};s(65);var T=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(l,{children:Object(i.jsx)(o.a,{children:k(S)})})})};r.a.render(Object(i.jsx)(T,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.b32284b8.chunk.js.map