(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{17:function(e,t,s){},35:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s(28),n=s.n(r),c=(s(35),s(8)),o=s(3),i=s(0),l=Object(a.createContext)(),d=function(e){var t=Object(a.useState)(!1),s=Object(o.a)(t,2),r=s[0],n=s[1],c=Object(a.useState)(""),d=Object(o.a)(c,2),u=d[0],m=d[1];return Object(i.jsx)(l.Provider,{value:{loggedin:r,setLoggedin:n,token:u,setToken:m},children:e.children})},u=s(11),m=s(2),j=s(29),p=["children"],b=function(e){var t=e.children,s=(Object(j.a)(e,p),Object(a.useContext)(l).loggedin);return Object(i.jsx)(i.Fragment,{children:s?t:Object(i.jsx)(m.a,{to:"/"})})},h=s(13),g=s(12),O=s.n(g),f=(s(17),s.p+"static/media/eye.d964f053.svg"),v=s.p+"static/media/eyeSlash.8f392a5c.svg",x=function(){var e=Object(a.useContext)(l),t=e.setLoggedin,s=e.setToken,r=Object(m.g)(),n=Object(a.useState)({type:"noMessage",message:"Login"}),d=Object(o.a)(n,2),j=d[0],p=d[1],b=Object(a.useState)({type:"password",image:v}),g=Object(o.a)(b,2),x=g[0],w=g[1],N=Object(a.useState)(!0),y=Object(o.a)(N,2),S=y[0],C=y[1],k=Object(a.useState)(!1),T=Object(o.a)(k,2),R=T[0],B=T[1],E=Object(a.useState)({email:"",password:""}),L=Object(o.a)(E,2),P=L[0],q=L[1];Object(a.useEffect)((function(){C(!0);var e=window.localStorage.getItem("token");if(e){var a=JSON.parse(e);t(!0),s(a),r.push("/dashboard")}C(!1)}),[]);var A=function(e){return function(t){q(Object(u.a)(Object(u.a)({},P),{},Object(h.a)({},e,t.target.value)))}},G=function(){return!(!M()||!I())&&(q({email:P.email.trim(),password:P.password.trim()}),!0)},I=function(){return P.password.length>0||(p({type:"error",message:"Password Not Valid!"}),!1)},M=function(){return P.email.length>0&&P.email.indexOf("@")>-1&&P.email.split("@")[1].indexOf(".")>-1||(p({type:"error",message:"Email is not valid!"}),!1)},W=function(e){window.localStorage.setItem("token",JSON.stringify(e))};return S?"....loading":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+j.type,children:j.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"email",placeholder:"Email",onChange:A("email"),value:P.email})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formTextGroup",children:[Object(i.jsx)("input",{className:"formTextbox",type:x.type,placeholder:"Password",onChange:A("password"),value:P.password}),Object(i.jsx)("div",{className:"passwordEye",children:Object(i.jsx)("img",{src:x.image,className:"passwordEyeImage",onClick:function(){w({type:"password"==x.type?"text":"password",image:"password"==x.type?f:v})}})})]})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(R)p({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(G()){B(!0);var e=window.location.origin;O()({method:"post",url:e+"/v1/loginUser",data:P}).then((function(e){q({email:"",password:""}),p({type:"success",message:"Congrats! Logged in Successfully"}),B(!1),t(!0);var a=e.data.message;s(a),W(a),r.push("/dashboard")})).catch((function(e){B(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))}}()},children:"Login"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Do not have an account?",Object(i.jsx)(c.b,{to:"/register",className:"formLink",children:"Register"})]})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",children:"Sign in with Google"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",children:"Sign in with Facebook"})})]})]})})},w=[{protected:!1,exact:!0,path:"/",component:x},{protected:!1,exact:!0,path:"/login",component:x},{protected:!1,exact:!0,path:"/Register",component:function(){var e=Object(m.g)(),t=Object(a.useContext)(l),s=t.setLoggedin,r=t.setToken,n=Object(a.useState)({type:"noMessage",message:"Register A User"}),d=Object(o.a)(n,2),j=d[0],p=d[1],b=Object(a.useState)({type:"password",image:v}),g=Object(o.a)(b,2),x=g[0],w=g[1],N=Object(a.useState)(!0),y=Object(o.a)(N,2),S=y[0],C=y[1],k=Object(a.useState)(!1),T=Object(o.a)(k,2),R=T[0],B=T[1],E=Object(a.useState)({email:"",password:""}),L=Object(o.a)(E,2),P=L[0],q=L[1];Object(a.useEffect)((function(){C(!0);var t=window.localStorage.getItem("token");if(t){var a=JSON.parse(t);s(!0),r(a),e.push("/dashboard")}C(!1)}),[]);var A=function(e){return function(t){q(Object(u.a)(Object(u.a)({},P),{},Object(h.a)({},e,t.target.value)))}},G=function(){return!(!M()||!I())&&(q({email:P.email.trim(),password:P.password.trim()}),!0)},I=function(){return P.password.length>0||(p({type:"error",message:"Password Not Valid!"}),!1)},M=function(){return P.email.length>0&&P.email.indexOf("@")>-1&&P.email.split("@")[1].indexOf(".")>-1||(p({type:"error",message:"Email is not valid!"}),!1)};return S?"....loading....":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+j.type,children:j.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"email",placeholder:"Email",onChange:A("email"),value:P.email})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formTextGroup",children:[Object(i.jsx)("input",{className:"formTextbox",type:x.type,placeholder:"Password",onChange:A("password"),value:P.password}),Object(i.jsx)("div",{className:"passwordEye",children:Object(i.jsx)("img",{src:x.image,className:"passwordEyeImage",onClick:function(){w({type:"password"==x.type?"text":"password",image:"password"==x.type?f:v})}})})]})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(R)p({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(G()){B(!0);var e=window.location.origin;O()({method:"post",url:e+"/v1/registerUser",data:P}).then((function(e){B(!1),q({email:"",password:""}),p({type:"success",message:"success Congrats! User Registered successfully"})})).catch((function(e){B(!1),"undefined"==typeof e.response?p({type:"error",message:"Request timeout!"}):p({type:"error",message:e.response.data.message})}))}}()},children:"Sign up"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Already have an account?",Object(i.jsx)(c.b,{to:"/",className:"formLink",children:"Sign in"})]})})]})]})})}},{protected:!0,exact:!0,path:"/Dashboard",component:function(){var e=Object(a.useContext)(l),t=e.setLoggedin,s=e.setToken,r=e.token,n=Object(a.useState)({type:"noMessage",message:"Try One of the Buttons Below"}),c=Object(o.a)(n,2),d=c[0],u=c[1],m=Object(a.useState)(!0),j=Object(o.a)(m,2),p=j[0],b=j[1],h=Object(a.useState)(!1),g=Object(o.a)(h,2),f=g[0],v=g[1],x=Object(a.useState)("300"),w=Object(o.a)(x,2),N=w[0],y=w[1];Object(a.useEffect)((function(){b(!0);var e=window.localStorage.getItem("token");if(e){var a=JSON.parse(e);t(!0),s(a)}b(!1)}),[]);var S=function(){return N.length>0&&!isNaN(N)||(u({type:"error",message:"Counter value is not a Number"}),!1)},C=function(){window.localStorage.removeItem("token")};return p?"...Loading...":Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage "+d.type,children:d.message})}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"formTextGroup",children:Object(i.jsx)("input",{className:"formTextbox",type:"text",placeholder:"Counter",onChange:function(e){return function(e){y(e.target.value)}(e)},value:N})})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else if(S()){v(!0);var e=window.location.origin;O()({method:"put",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(r)},data:{current:N}}).then((function(e){u({type:"success",message:"Current Counter Value is => ".concat(N)}),v(!1)})).catch((function(e){v(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Update Counter Value"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else{v(!0);var e=window.location.origin;O()({method:"get",url:e+"/v1/current",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){u({type:"success",message:"Current Counter Value is => ".concat(e.data.message)}),v(!1)})).catch((function(e){v(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Current Counter"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButton",onClick:function(){return function(){if(f)u({type:"error",message:"Another Request in Progress! wait for that one to finish!"});else{v(!0);var e=window.location.origin;O()({method:"get",url:e+"/v1/next",headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){u({type:"success",message:"Next Counter Value is => ".concat(e.data.message)}),v(!1)})).catch((function(e){v(!1),"undefined"==typeof e.response?u({type:"error",message:"Request timeout!"}):u({type:"error",message:e.response.data.message})}))}}()},children:"Next Counter"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("button",{className:"formButtonGoogle",onClick:function(){return C(),t(!1),void s("")},children:"Logout"})})]})]})})}},{protected:!1,exact:!0,path:"/404",component:function(){return Object(i.jsx)("div",{className:"appWrapper",children:Object(i.jsxs)("div",{className:"formWrapper",children:[Object(i.jsx)("div",{className:"vrow",children:Object(i.jsx)("div",{className:"headerMessage noMessage",children:"The Page Does Not Exist"})}),Object(i.jsx)("div",{className:"vrow",children:Object(i.jsxs)("div",{className:"formSubtitle",children:["Return to",Object(i.jsx)(c.b,{to:"/",className:"formLink",children:"Home Page"})]})})]})})}},{protected:!1,exact:!1,path:"*",component:function(){return Object(i.jsx)(m.a,{to:"/"})}}],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(i.jsx)(m.d,{children:e.map((function(e,t){var s=e.component,r=e.protected?b:a.Fragment;return Object(i.jsx)(m.b,{exact:e.exact,path:e.path,render:function(e){return Object(i.jsx)(r,{children:Object(i.jsx)(s,Object(u.a)({},e))})}},t)}))})};s(63);var y=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(d,{children:Object(i.jsx)(c.a,{children:N(w)})})})};n.a.render(Object(i.jsx)(y,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.0894f77d.chunk.js.map